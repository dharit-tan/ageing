<!DOCTYPE html>
<html>
<head>
	<title>Ageing</title>
	<!-- Bootstrap -->
	{% load staticfiles %}
    <link href="{% static "bootstrap/css/bootstrap.min.css" %}" rel="stylesheet" media="screen">
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
	<script type="text/javascript" src="http://cdnjs.cloudflare.com/ajax/libs/paper.js/0.9.9/paper.js"></script>

</head>

<body>
	<canvas id="myCanvas" resize="true" style="
	position:absolute;
	top:0;
	left:0;
	width:100%;
	height:100%;
	z-index:-1;
	background:black;">
	</canvas>



	<script type="text/paperscript" canvas="myCanvas">

	    function timeout(time) {
	    	setTimeout(function() {}, time);
	    };

		function timeoutModal(name1, name2, time) {
			name1.modal('show');
			setTimeout(function() {
				name1.modal('hide');
				name2.modal('show');
				}
			, time);
		};


		var modArr = new Array();
		modArr[0] = $('#ignore');
		modArr[1] = $('#first');
		modArr[2] = $('#second');
		modArr[3] = $('#third');
		modArr[4] = $('#fourth');
		modArr[5] = $('#fifth');
		modArr[6] = $('#sixth');
		modArr[7] = $('#seventh');
		modArr[8] = $('#eigth');

		timeoutModal(modArr[1], modArr[2], 3000);
		timeoutModal(modArr[2], modArr[3], 3000);


		// setTimeout(function() {
		// 	$('#first').modal('hide');
		// 	$('#second').modal('show');
		// 	}
		// ,3000);
		// };
		// // show the first modal
		// $('#first').modal('show');
		// setTimeout(function() {
		// 	$('#first').modal('hide');
		// 	$('#second').modal('show');
		// 	}
		// ,3000);
		// setTimeout(function() {
		// 	$('#second').modal('hide');
		// 	$('#third').modal('show');
		// 	}
		// ,3000);
		// setTimeout(function() {
		// 	$('#third').modal('hide');
		// 	$('#fourth').modal('show');
		// 	}
		// ,3000);
		// setTimeout(function() {
		// 	$('#fourth').modal('hide');
		// 	$('#fifth').modal('show');
		// 	}
		// ,3000);
		// setTimeout(function() {
		// 	$('#fifth').modal('hide');
		// 	$('#sixth').modal('show');
		// 	}
		// ,3000);
		// setTimeout(function() {
		// 	$('#sixth').modal('hide');
		// 	$('#seventh').modal('show');
		// 	}
		// ,3000);

		// The amount of circles we want to make:
		var count = 70 * 12;

		/*------------------------------------------------------------------------------*/
		// the go button
		$('#go').click(function() {
			var delta;
			var today = new Date();
			today.setHours(0);
			today.setMinutes(0);
			today.setSeconds(0);
			today.setMilliseconds(0);

			var birth_day = $('#birth_day').val();
			var birth_month = $('#birth_month').val() - 1;
			var birth_year = $('#birth_year').val();

			var birth_date = new Date(birth_year, birth_month, birth_day, 0, 0, 0);

			delta = today - birth_date;
			var days = delta / 1000 / 60 / 60 / 24;
			var months = Math.round(days / 30);
			var years = months / 12;

			$('#years').text(years + " years");
			$('#months').text(months + " months");
			$('#days').text(days + " days");

			for (var i = count - months; i < count; i++) {
				var item = project.activeLayer.children[i];
				item.visible = false;
			}
			count = count - months;

			// hide the first modal and show the second modal
			$('#first').modal('hide');
			$('#second').modal('show');
		});

		$('#test').click(function() {

		});


		/*------------------------------------------------------------------------------*/
		// Paper.js animations

		// Create a symbol, which we will use to place instances of later:
		var path = new Path.Circle({
			center: [0, 0],
			radius: 10,
			fillColor: 'white',
			strokeColor: 'black'
		});

		var symbol = new Symbol(path);

		// Place the instances of the symbol:
		for (var i = 0; i < count; i++) {
			// The center position is a random point in the view:
			var center = Point.random() * view.size;
			var placedSymbol = symbol.place(center);
			placedSymbol.scale(i / count);
		}

		// The onFrame function is called up to 60 times a second:
		function onFrame(event) {
			// Run through the active layer's children list and change
			// the position of the placed symbols:
			for (var i = 0; i < count; i++) {
				var item = project.activeLayer.children[i];
				
				// Move the item 1/20th of its width to the right. This way
				// larger circles move faster than smaller circles:
				item.position.x += item.bounds.width / 20;

				// If the item has left the view on the right, move it back
				// to the left:
				if (item.bounds.left > view.size.width) {
					item.position.x = -item.bounds.width;
				}
			}
		}




	</script>

	<script src="{% static "bootstrap/js/bootstrap.min.js" %}"></script>

	<!-- 1st Modal -->
    <div id="first" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
      <div class="modal-body">
      	<p>On the screen in front of you are exactly 938 little white circles.</p>
      </div>
    </div>

	<!-- 2nd Modal -->
    <div id="second" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
      <div class="modal-body">
      	<p>Some are be very large and will speed by quickly.</p>
      </div>
    </div>

	<!-- 3rd Modal -->
    <div id="third" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
      <div class="modal-body">
      	<p>Some may be far away and difficult to see, but trust us, they're there.</p>
      </div>
    </div>

	<!-- 4th Modal -->
    <div id="fourth" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
      <div class="modal-body">
      	<p>There is one circle on this screen for every month that the aver human being will live.</p>
      </div>
    </div>

	<!-- 5th Modal -->
    <div id="fifth" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
      <div class="modal-body">
      	<p>You might have more circles in your life, or you might have less, but on average, this is what we've got.</p>
      	</div>
    </div>

	<!-- 6th Modal -->
    <div id="sixth" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
      <div class="modal-body">
      	<p>Pretend, for a second, that your entire life is contained within this page of circles.</p>
      </div>
    </div>

	<!-- 7th Modal -->
    <div id="seventh" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
      <div class="modal-body">
		<p>On what day were you born?</p>
      	<input type="text" id="birth_day" value="20">
		<input type="text" id="birth_month" value="4">
		<input type="text" id="birth_year" value="1992">
		<button id="go" class="btn">GO</button>
      </div>
    </div>

	<!-- 8th modal -->
    <div id="eigth" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
      <div class="modal-body">
		<p>You've been alive for:
			<ul>
				<li id="years"></li>
				<li id="months"></li>
				<li id="days"></li>
			</ul>
		</p>
      </div>
    </div>

</body>
</html>